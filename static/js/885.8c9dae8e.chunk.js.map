{"version":3,"file":"static/js/885.8c9dae8e.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/ProfilePage/Profile/ProfilePopup/ProfilePopup.module.scss?13b8","components/ProfilePage/Profile/ProfilePopup/ProfilePopup.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"veil\":\"ProfilePopup_veil__Dj10n\",\"active\":\"ProfilePopup_active__f1woS\",\"popup\":\"ProfilePopup_popup__+2nyL\",\"popup__body\":\"ProfilePopup_popup__body__iSwVD\",\"popup__closeBtn\":\"ProfilePopup_popup__closeBtn__Y1eii\",\"popup__close\":\"ProfilePopup_popup__close__p0ekk\",\"popup__title\":\"ProfilePopup_popup__title__DyoDb\",\"popup__form\":\"ProfilePopup_popup__form__8zW+T\",\"popup__contacts\":\"ProfilePopup_popup__contacts__s8ZOO\",\"popup__confirm\":\"ProfilePopup_popup__confirm__eTxBq\",\"validatedForm__formfield\":\"ProfilePopup_validatedForm__formfield__hIrmj\",\"validatedForm__input\":\"ProfilePopup_validatedForm__input__cPEjh\"};","import classes from './ProfilePopup.module.scss';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nimport ValidatedFormField from '../../../Common/FormField/ValidateFormField.tsx';\r\nimport Button from '../../../Common/Button/Button.tsx';\r\nimport Checkbox from '../../../Common/FormField/Checkbox.tsx';\r\n\r\nimport { useAppDispatch, useAppSelector } from '../../../../redux/typedHooks/hooks.ts';\r\nimport { updateUserInfoThunk, UserInfoType } from '../../../../redux/ProfileReducer.ts';\r\n\r\ntype Props = {\r\n   togglePopup: (toggle: boolean) => void\r\n}\r\n\r\nconst ProfilePopup: React.FC<Props> = ({ togglePopup }) => {\r\n   \r\n   \r\n   const [popupActiveClass, setPopupActiveClass] = useState(false);\r\n\r\n   \r\n\r\n   useEffect(() => {\r\n      setPopupActiveClass(true);\r\n   }, []);\r\n   return (\r\n      <div className={`${classes.veil} ${popupActiveClass && classes.active}`}>\r\n         <div className={classes.popup}>\r\n            <div className={classes.popup__body}>\r\n               <div className={classes.popup__closeBtn}>\r\n                  <button\r\n                     onClick={() => {\r\n                        togglePopup(false);\r\n                        setPopupActiveClass(false);\r\n                     }}\r\n                     className={classes.popup__close}\r\n                  ></button>\r\n               </div>\r\n               <ProfilePopupContent className={classes.popup__content} />\r\n            </div>\r\n         </div>\r\n      </div>\r\n   );\r\n}\r\n\r\n   type FormDataType = {\r\n      fullname: string\r\n      workFinder: boolean\r\n      facebook: string | null\r\n      github: string | null\r\n      instagram: string| null\r\n      vk: string | null\r\n      workFinderDescription: string | null\r\n   }\r\n\r\nfunction ProfilePopupContent({ className }) {\r\n   const dispatch = useAppDispatch();\r\n   const profile = useAppSelector(state => state.profilePage.profile)\r\n   const {\r\n      register,\r\n      handleSubmit,\r\n      reset,\r\n      formState: { errors },\r\n   } = useForm<FormDataType>({ mode: 'onBlur' });\r\n\r\n   const fieldMask = {\r\n      register,\r\n      classes,\r\n      errors,\r\n   };\r\n\r\n\r\n   useEffect(() => {\r\n      if(profile){\r\n         reset({\r\n            fullname: profile.fullName,\r\n            workFinder: profile.lookingForAJob,\r\n            workFinderDescription: profile.lookingForAJobDescription,\r\n            facebook: profile.contacts.facebook,\r\n            github: profile.contacts.github,\r\n            instagram: profile.contacts.instagram,\r\n            vk: profile.contacts.vk\r\n         })\r\n      }\r\n   }, [profile, reset])\r\n\r\n\r\n   let onSubmit = (data: FormDataType) => {\r\n      let userInfo: UserInfoType = {\r\n         aboutMe: 'aboba',\r\n         contacts: {\r\n            facebook: data.facebook,\r\n            github: data.github,\r\n            instagram: data.instagram,\r\n            vk: data.vk,\r\n            youtube: null,\r\n            mainLink: null,\r\n            twitter: null,\r\n            website: null\r\n         },\r\n         lookingForAJob: data.workFinder,\r\n         lookingForAJobDescription: data.workFinderDescription,\r\n         fullName: data.fullname,\r\n      };\r\n      dispatch(updateUserInfoThunk(userInfo));\r\n      reset();\r\n   };\r\n   if(!profile){\r\n      return <div>Загрузка профиля...</div>\r\n   }\r\n   return (\r\n      <div className={className}>\r\n         <h2 className={classes.popup__title}>Редактирование профиля</h2>\r\n         <form className={classes.popup__form} onSubmit={handleSubmit(onSubmit)}>\r\n            <ValidatedFormField<FormDataType>\r\n               tag=\"input\"\r\n               type=\"text\"\r\n               {...fieldMask}\r\n               name=\"fullname\"\r\n               isLabel=\"Имя\"\r\n               rules={{ required: 'Поле не может быть пустым' }}\r\n               id={'fullname'}\r\n            />\r\n            <Checkbox register={register} label={'Ищу работу'} name={'workFinder'} />\r\n            <ValidatedFormField<FormDataType>\r\n               tag=\"input\"\r\n               type=\"text\"\r\n               {...fieldMask}\r\n               name=\"workFinderDescription\"\r\n               isLabel=\"Что умею в разработке:\"\r\n               id={'workFinderDescription'}\r\n            />\r\n            <div className={classes.popup__contacts}>\r\n               <ValidatedFormField<FormDataType>\r\n                  tag=\"input\"\r\n                  type=\"text\"\r\n                  {...fieldMask}\r\n                  name=\"facebook\"\r\n                  isLabel=\"Facebook\"\r\n                  id={'facebook'}\r\n               />\r\n               <ValidatedFormField<FormDataType> tag=\"input\" type=\"text\" {...fieldMask} name=\"github\" isLabel=\"GitHub\" id={'github'} />\r\n               <ValidatedFormField<FormDataType>\r\n                  tag=\"input\"\r\n                  type=\"text\"\r\n                  {...fieldMask}\r\n                  name=\"instagram\"\r\n                  isLabel=\"Instagram\"\r\n                  id={'instagram'}\r\n               />\r\n               <ValidatedFormField<FormDataType> tag=\"input\" type=\"text\" {...fieldMask} name=\"vk\" isLabel=\"VK\" id={'vk'} />\r\n            </div>\r\n            <Button disabled={false} className={classes.popup__confirm}>Сохранить</Button>\r\n         </form>\r\n      </div>\r\n   );\r\n}\r\n\r\nexport default ProfilePopup;"],"names":["ProfilePopupContent","_ref2","className","dispatch","useAppDispatch","profile","useAppSelector","state","profilePage","register","handleSubmit","reset","formState","errors","useForm","mode","fieldMask","classes","useEffect","fullname","fullName","workFinder","lookingForAJob","workFinderDescription","lookingForAJobDescription","facebook","contacts","github","instagram","vk","_jsxs","children","_jsx","popup__title","popup__form","onSubmit","data","userInfo","aboutMe","youtube","mainLink","twitter","website","updateUserInfoThunk","ValidatedFormField","_objectSpread","tag","type","name","isLabel","rules","required","id","Checkbox","label","popup__contacts","Button","disabled","popup__confirm","_ref","togglePopup","popupActiveClass","setPopupActiveClass","useState","concat","veil","active","popup","popup__body","popup__closeBtn","onClick","popup__close","popup__content"],"sourceRoot":""}