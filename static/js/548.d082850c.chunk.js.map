{"version":3,"file":"static/js/548.d082850c.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/Messages/DialogWindow/Message/Message.module.scss?f3eb","components/Messages/DialogWindow/Message/Message.tsx","webpack://my-app/./src/components/Messages/DialogWindow/DialogWindow.module.scss?ba8d","components/Messages/DialogWindow/DialogWindow.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"message\":\"Message_message__9wS9O\",\"message__author\":\"Message_message__author__Is0f+\",\"message__image\":\"Message_message__image__7Udd8\",\"message__body\":\"Message_message__body__1ds6F\",\"message__text\":\"Message_message__text__nayxd\",\"message__status\":\"Message_message__status__VMPvM\",\"message__time\":\"Message_message__time__aig14\",\"message__check\":\"Message_message__check__nv-b+\",\"checked\":\"Message_checked__yRwoa\",\"user\":\"Message_user__77AXe\"};","import classes from './Message.module.scss';\r\n\r\nexport default function Message({ avatar, addonClass, time, name, children, viewed }) {\r\n   return (\r\n      <div className={`${classes.message} ${classes[addonClass]}`}>\r\n         <div className={classes.message__image}>\r\n            <img src={avatar} alt=\"author-pic\" />\r\n         </div>\r\n         <div className={classes.message__body}>\r\n            <p className={classes.message__author}>{name}</p>\r\n            <p className={classes.message__text}>{children}</p>\r\n            <div className={classes.message__status}>\r\n               <p className={classes.message__time}>{time}</p>\r\n               <p className={`${classes.message__check} ${viewed && classes.checked}`}>\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" width=\"100\" height=\"100\" viewBox=\"0 0 24 24\">\r\n                     <path fill='#fff' d=\"M9 19.4L3.3 13.7 4.7 12.3 9 16.6 20.3 5.3 21.7 6.7z\"></path>\r\n                  </svg>\r\n               </p>\r\n               </div>\r\n\r\n         </div>\r\n      </div>\r\n   );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"dialog_window\":\"DialogWindow_dialog_window__TZb1H\",\"dialog_window__wrapper\":\"DialogWindow_dialog_window__wrapper__jS6zK\",\"dialogVoid\":\"DialogWindow_dialogVoid__Y0ZZl\",\"dialog\":\"DialogWindow_dialog__1Ij+K\",\"dialog__interface\":\"DialogWindow_dialog__interface__MMDPZ\",\"dialog__input\":\"DialogWindow_dialog__input__q0LHL\",\"dialog__button\":\"DialogWindow_dialog__button__jSriQ\"};","import Message from './Message/Message.tsx';\r\nimport { useForm } from 'react-hook-form';\r\nimport classes from './DialogWindow.module.scss';\r\nimport sendImage from '../../../img/ic_send_128_28719.png';\r\nimport Avatar from '../../../img/Avatar.jpg';\r\n\r\nimport { sendNewMessage } from '../../../redux/MessagesReducer.ts';\r\n\r\nimport { useAppDispatch, useAppSelector } from '../../../redux/typedHooks/hooks.ts';\r\n\r\ntype Props = {\r\n   currentDialog?: number \r\n}\r\n\r\n const DialogWindow: React.FC<Props> = ({ currentDialog }) => {\r\n   const dispatch = useAppDispatch();\r\n   const messageMassive = useAppSelector((state) => state.messagesPage.messageMassive);\r\n   const userId = useAppSelector((state) => state.auth.id);\r\n   const yourPicture = useAppSelector((state) => state.auth.yourPicture);\r\n\r\n   const dialogs = useAppSelector((state) => state.messagesPage.dialogs);\r\n   let opponentPicture = Avatar as string | null;\r\n   if(currentDialog !== undefined){\r\n      const currentOpponent = dialogs.find((dialog) => dialog.id === Number(currentDialog));\r\n      opponentPicture = currentOpponent ? currentOpponent.avatar : null;\r\n   }\r\n   \r\n   const { register, handleSubmit, resetField } = useForm();\r\n\r\n   const dialogComponents = messageMassive.map((message) => (\r\n      <Message\r\n         key={message.id}\r\n         avatar={message.senderId === userId ? yourPicture || Avatar : opponentPicture || Avatar}\r\n         addonClass={message.senderId === userId ? 'user' : ''}\r\n         time={message.addedAt}\r\n         name={message.senderName}\r\n         viewed={message.viewed}\r\n      >\r\n         {message.body}\r\n      </Message>\r\n   ));\r\n\r\n\r\n   function onSubmit(data) {\r\n      if(currentDialog !== undefined){\r\n         dispatch(sendNewMessage(currentDialog, data.message));\r\n      }\r\n      resetField('message');\r\n   }\r\n   if(!currentDialog){\r\n      return <div className={classes.dialogVoid}>Выберите диалог</div>\r\n   }\r\n   return (\r\n      <div className={classes.dialog}>\r\n         <div className={classes.dialog_window}>\r\n            <div className={classes.dialog_window__wrapper}>{dialogComponents}</div>\r\n         </div>\r\n         <div className={classes.dialog__interface}>\r\n            <form autoComplete=\"off\" onSubmit={handleSubmit(onSubmit)} className={classes.dialog__sending}>\r\n               <input {...register('message', { required: true })} placeholder=\"Сообщение...\" type=\"text\" className={classes.dialog__input} />\r\n               <button className={classes.dialog__button}>\r\n                  <img src={sendImage} alt=\"send\" />\r\n               </button>\r\n            </form>\r\n         </div>\r\n      </div>\r\n   );\r\n}\r\n\r\nexport default DialogWindow"],"names":["Message","_ref","avatar","addonClass","time","name","children","viewed","_jsxs","className","concat","classes","message","_jsx","message__image","src","alt","message__body","message__author","message__text","message__status","message__time","message__check","checked","xmlns","x","y","width","height","viewBox","fill","d","currentDialog","dispatch","useAppDispatch","messageMassive","useAppSelector","state","messagesPage","userId","auth","id","yourPicture","dialogs","opponentPicture","Avatar","undefined","currentOpponent","find","dialog","Number","register","handleSubmit","resetField","useForm","dialogComponents","map","senderId","addedAt","senderName","body","dialog_window","dialog_window__wrapper","dialog__interface","autoComplete","onSubmit","data","sendNewMessage","dialog__sending","_objectSpread","required","placeholder","type","dialog__input","dialog__button","dialogVoid"],"sourceRoot":""}