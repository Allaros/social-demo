{"version":3,"file":"static/js/853.e84ee949.chunk.js","mappings":"4HACA,QAA2B,2B,2ECA3B,QAAyB,wBAAzB,EAAgE,8BAAhE,EAA6L,gCAA7L,EAA+O,iCAA/O,EAAgS,+B,aCAhS,SAAgB,eAAiB,+BAA+B,aAAe,6BAA6B,OAAS,wBCItG,SAASA,EAAMC,GAAuC,IAAtC,GAAEC,EAAE,KAAEC,EAAI,OAAEC,EAAM,cAAEC,GAAeJ,EAC/D,OACGK,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAQC,OAAOC,UAC3BC,EAAAA,EAAAA,MAACC,EAAAA,GAAO,CAACL,UAAWM,IAAA,IAAC,SAAEC,GAAUD,EAAA,OAAMC,EAAQ,GAAAC,OAAMP,EAAQQ,aAAY,KAAAD,OAAIP,EAAQS,QAAWT,EAAQQ,cAAeE,GAAE,YAAAH,OAAcb,GAAKQ,SAAA,EACzIJ,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAQW,eAAeT,UACpCJ,EAAAA,EAAAA,KAAA,OAAKc,IAAKhB,GAAUiB,EAAQC,IAAI,QAEnChB,EAAAA,EAAAA,KAAA,KAAAI,SAAIP,QAIhB,CCXe,SAASoB,EAAOtB,GAAqB,IAApB,cAAEI,GAAeJ,EAC9C,MAEMuB,GAFUC,EAAAA,EAAAA,GAAgBC,GAAUA,EAAMC,aAAaC,SAE5BC,IAAKpB,IACnCH,EAAAA,EAAAA,KAACN,EAAM,CAACK,cAAeA,EAA+BF,KAAMM,EAAON,KAAMD,GAAIO,EAAOP,GAAIE,OAAQK,EAAOL,QAA5DK,EAAOP,KAErD,OACGS,EAAAA,EAAAA,MAAA,OAAKJ,UAAWC,EAAeE,SAAA,EAC5BJ,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAsBE,SAAC,gDACvCJ,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAuBE,UACpCJ,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAwBE,UACrCJ,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAqBE,SAAEc,UAKrD,CCVA,MAAMM,GAAeC,EAAAA,EAAAA,MAAK,IAAM,8BAyBhC,SC/ByCC,EDQzC,WACG,MAAMC,GAAWC,EAAAA,EAAAA,KAEXC,GAASC,EAAAA,EAAAA,KAYf,OAVAC,EAAAA,EAAAA,WAAU,KACPJ,GAASK,EAAAA,EAAAA,QACT,CAACL,KAEJI,EAAAA,EAAAA,WAAU,KACHF,EAAOI,QACRN,GAASO,EAAAA,EAAAA,IAAaC,OAAON,EAAOI,WAEvC,CAACN,EAAUE,KAGXxB,EAAAA,EAAAA,MAAA,WAASJ,UAAWC,EAAiBE,SAAA,EAClCJ,EAAAA,EAAAA,KAACiB,EAAO,KACRjB,EAAAA,EAAAA,KAACwB,EAAY,CAACzB,cAAeoC,OAAON,EAAOI,YAGpD,GCXUG,EAAAA,EAAAA,IAHgBhB,IAAK,CACzBiB,OAAQjB,EAAMkB,KAAKD,SAEU,CAAC,EAA1BD,CAjBkBG,IACtB,MAAMC,GAAWC,EAAAA,EAAAA,MAMjB,OALAV,EAAAA,EAAAA,WAAU,KACFQ,EAAMF,QACRG,EAAS,WAEZ,CAACD,EAAMF,OAAQG,IACbD,EAAMF,QAIJrC,EAAAA,EAAAA,KAAC0B,GAASgB,EAAAA,EAAAA,GAAA,GAAKH,KAHZvC,EAAAA,EAAAA,KAAC2C,EAAAA,EAAS,OATX,IAA0BjB,C","sources":["webpack://my-app/./src/components/Messages/Messages.module.scss?b126","webpack://my-app/./src/components/Messages/Persons/Persons.module.scss?0abd","webpack://my-app/./src/components/Messages/Persons/Person/Person.module.scss?057d","components/Messages/Persons/Person/Person.jsx","components/Messages/Persons/Persons.jsx","components/Messages/Messages.jsx","HOC/WithAuthRedirect.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"messages\":\"Messages_messages__a4KmD\",\"messages__wrapper\":\"Messages_messages__wrapper__0Ympf\"};","// extracted by mini-css-extract-plugin\nexport default {\"people\":\"Persons_people__AlLgc\",\"people__list\":\"Persons_people__list__ZVV1t\",\"people__item\":\"Persons_people__item__Bif96\",\"active\":\"Persons_active__IRVs9\",\"people__window\":\"Persons_people__window__QB+VS\",\"people__wrapper\":\"Persons_people__wrapper__afAEf\",\"people__title\":\"Persons_people__title__yu9zI\"};","// extracted by mini-css-extract-plugin\nexport default {\"person__avatar\":\"Person_person__avatar__ShNOq\",\"person__link\":\"Person_person__link__DmPNn\",\"active\":\"Person_active__QvfOK\"};","import { NavLink } from 'react-router';\r\nimport Avatar from '../../../../img/Avatar.jpg';\r\n\r\nimport classes from './Person.module.scss';\r\n\r\nexport default function Person({ id, name, avatar, currentDialog }) {\r\n   return (\r\n      <li className={classes.person}>\r\n         <NavLink className={({ isActive }) => (isActive ? `${classes.person__link} ${classes.active}` : classes.person__link)} to={`/dialogs/${id}`}>\r\n            <div className={classes.person__avatar}>\r\n               <img src={avatar || Avatar} alt=\"\" />\r\n            </div>\r\n            <p>{name}</p>\r\n         </NavLink>\r\n      </li>\r\n   );\r\n}\r\n","import classes from './Persons.module.scss';\r\nimport Person from './Person/Person';\r\n\r\nimport { useAppSelector } from '../../../redux/typedHooks/hooks';\r\n\r\nexport default function Persons({ currentDialog }) {\r\n   const dialogs = useAppSelector((state) => state.messagesPage.dialogs);\r\n\r\n   const personComponents = dialogs.map((person) => (\r\n      <Person currentDialog={currentDialog} key={person.id} name={person.name} id={person.id} avatar={person.avatar} />\r\n   ));\r\n   return (\r\n      <div className={classes.people}>\r\n         <div className={classes.people__title}>Диалоги</div>\r\n         <div className={classes.people__window}>\r\n            <div className={classes.people__wrapper}>\r\n               <ul className={classes.people__list}>{personComponents}</ul>\r\n            </div>\r\n         </div>\r\n      </div>\r\n   );\r\n}\r\n","import classes from './Messages.module.scss';\r\n\r\nimport WithAuthRedirect from '../../HOC/WithAuthRedirect.jsx';\r\n\r\nimport { useAppDispatch } from '../../redux/typedHooks/hooks.ts';\r\nimport { chooseDialog, getDialogs } from '../../redux/MessagesReducer.ts';\r\n\r\nimport { lazy, useEffect } from 'react';\r\nimport Persons from './Persons/Persons.jsx';\r\nimport { useParams } from 'react-router';\r\n\r\nconst DialogWindow = lazy(() => import('./DialogWindow/DialogWindow.jsx'));\r\n\r\nfunction Messages() {\r\n   const dispatch = useAppDispatch();\r\n\r\n   const params = useParams();\r\n\r\n   useEffect(() => {\r\n      dispatch(getDialogs());\r\n   }, [dispatch]);\r\n\r\n   useEffect(() => {\r\n      if (params.userId) {\r\n         dispatch(chooseDialog(Number(params.userId)));\r\n      }\r\n   }, [dispatch, params]);\r\n\r\n   return (\r\n      <section className={classes.messages}>\r\n         <Persons />\r\n         <DialogWindow currentDialog={Number(params.userId)} />\r\n      </section>\r\n   );\r\n}\r\n\r\nexport default WithAuthRedirect(Messages);\r\n","import { useNavigate } from 'react-router';\r\nimport { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Preloader from '../components/Common/Preloader/Preloader';\r\n\r\nexport default function WithAuthRedirect(Component) {\r\n   let RedirectComponent = (props) => {\r\n      const navigate = useNavigate();\r\n      useEffect(() => {\r\n         if (!props.isAuth) {\r\n            navigate('/login');\r\n         }\r\n      }, [props.isAuth, navigate]);\r\n      if (!props.isAuth) {\r\n         return <Preloader />;\r\n      }\r\n\r\n      return <Component {...props} />;\r\n   };\r\n\r\n   let mapStateToProps = (state) => ({\r\n      isAuth: state.auth.isAuth,\r\n   });\r\n   return connect(mapStateToProps, {})(RedirectComponent);\r\n}\r\n"],"names":["Person","_ref","id","name","avatar","currentDialog","_jsx","className","classes","person","children","_jsxs","NavLink","_ref2","isActive","concat","person__link","active","to","person__avatar","src","Avatar","alt","Persons","personComponents","useAppSelector","state","messagesPage","dialogs","map","DialogWindow","lazy","Component","dispatch","useAppDispatch","params","useParams","useEffect","getDialogs","userId","chooseDialog","Number","connect","isAuth","auth","props","navigate","useNavigate","_objectSpread","Preloader"],"sourceRoot":""}