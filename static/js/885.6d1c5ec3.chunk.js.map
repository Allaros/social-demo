{"version":3,"file":"static/js/885.6d1c5ec3.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/ProfilePage/Profile/ProfilePopup/ProfilePopup.module.scss?13b8","components/ProfilePage/Profile/ProfilePopup/ProfilePopup.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"veil\":\"ProfilePopup_veil__Dj10n\",\"active\":\"ProfilePopup_active__f1woS\",\"popup\":\"ProfilePopup_popup__+2nyL\",\"popup__body\":\"ProfilePopup_popup__body__iSwVD\",\"popup__closeBtn\":\"ProfilePopup_popup__closeBtn__Y1eii\",\"popup__close\":\"ProfilePopup_popup__close__p0ekk\",\"popup__title\":\"ProfilePopup_popup__title__DyoDb\",\"popup__form\":\"ProfilePopup_popup__form__8zW+T\",\"popup__contacts\":\"ProfilePopup_popup__contacts__s8ZOO\",\"popup__confirm\":\"ProfilePopup_popup__confirm__eTxBq\",\"validatedForm__formfield\":\"ProfilePopup_validatedForm__formfield__hIrmj\",\"validatedForm__input\":\"ProfilePopup_validatedForm__input__cPEjh\"};","import classes from './ProfilePopup.module.scss';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nimport ValidatedFormField from '../../../Common/FormField/ValidateFormField';\r\nimport Button from '../../../Common/Button/Button.tsx';\r\nimport Checkbox from '../../../Common/FormField/Checkbox';\r\n\r\nimport { useAppDispatch, useAppSelector } from '../../../../redux/typedHooks/hooks.ts';\r\nimport { updateUserInfoThunk, UserInfoType } from '../../../../redux/ProfileReducer.ts';\r\n\r\ntype Props = {\r\n   togglePopup: (toggle: boolean) => void\r\n}\r\n\r\nconst ProfilePopup: React.FC<Props> = ({ togglePopup }) => {\r\n   \r\n   \r\n   const [popupActiveClass, setPopupActiveClass] = useState(false);\r\n\r\n   \r\n\r\n   useEffect(() => {\r\n      setPopupActiveClass(true);\r\n   }, []);\r\n   return (\r\n      <div className={`${classes.veil} ${popupActiveClass && classes.active}`}>\r\n         <div className={classes.popup}>\r\n            <div className={classes.popup__body}>\r\n               <div className={classes.popup__closeBtn}>\r\n                  <button\r\n                     onClick={() => {\r\n                        togglePopup(false);\r\n                        setPopupActiveClass(false);\r\n                     }}\r\n                     className={classes.popup__close}\r\n                  ></button>\r\n               </div>\r\n               <ProfilePopupContent className={classes.popup__content} />\r\n            </div>\r\n         </div>\r\n      </div>\r\n   );\r\n}\r\n\r\nfunction ProfilePopupContent({ className }) {\r\n   const dispatch = useAppDispatch();\r\n   const profile = useAppSelector(state => state.profilePage.profile)\r\n   const {\r\n      register,\r\n      handleSubmit,\r\n      reset,\r\n      formState: { errors },\r\n   } = useForm({ mode: 'onBlur' });\r\n\r\n   const fieldMask = {\r\n      register,\r\n      classes,\r\n      errors,\r\n   };\r\n\r\n   let onSubmit = (data: any) => {\r\n      let userInfo: UserInfoType = {\r\n         aboutMe: 'aboba',\r\n         contacts: {\r\n            facebook: data.facebook,\r\n            github: data.github,\r\n            instagram: data.instagram,\r\n            vk: data.vk,\r\n            youtube: null,\r\n            mainLink: null,\r\n            twitter: null,\r\n            website: null\r\n         },\r\n         lookingForAJob: data.workFinder,\r\n         lookingForAJobDescription: data.workFinderDescription,\r\n         fullName: data.fullname,\r\n      };\r\n      dispatch(updateUserInfoThunk(userInfo));\r\n      reset();\r\n   };\r\n   if(!profile){\r\n      return <div>Загрузка профиля...</div>\r\n   }\r\n   return (\r\n      <div className={className}>\r\n         <h2 className={classes.popup__title}>Редактирование профиля</h2>\r\n         <form className={classes.popup__form} onSubmit={handleSubmit(onSubmit)}>\r\n            <ValidatedFormField\r\n               tag=\"input\"\r\n               type=\"text\"\r\n               {...fieldMask}\r\n               name=\"fullname\"\r\n               isLabel=\"Имя\"\r\n               rules={{ required: 'Поле не может быть пустым' }}\r\n               id={'fullname'}\r\n               value={profile.fullName}\r\n            />\r\n            <Checkbox checked={profile?.lookingForAJob} register={register} label={'Ищу работу'} name={'workFinder'} />\r\n            <ValidatedFormField\r\n               tag=\"input\"\r\n               type=\"text\"\r\n               {...fieldMask}\r\n               name=\"workFinderDescription\"\r\n               isLabel=\"Что умею в разработке:\"\r\n               id={'workFinderDescription'}\r\n               value={profile.lookingForAJobDescription}\r\n            />\r\n            <div className={classes.popup__contacts}>\r\n               <ValidatedFormField\r\n                  value={profile.contacts?.facebook}\r\n                  tag=\"input\"\r\n                  type=\"text\"\r\n                  {...fieldMask}\r\n                  name=\"facebook\"\r\n                  isLabel=\"Facebook\"\r\n                  id={'facebook'}\r\n               />\r\n               <ValidatedFormField value={profile.contacts?.github} tag=\"input\" type=\"text\" {...fieldMask} name=\"github\" isLabel=\"GitHub\" id={'github'} />\r\n               <ValidatedFormField\r\n                  value={profile.contacts?.instagram}\r\n                  tag=\"input\"\r\n                  type=\"text\"\r\n                  {...fieldMask}\r\n                  name=\"instagram\"\r\n                  isLabel=\"Instagram\"\r\n                  id={'instagram'}\r\n               />\r\n               <ValidatedFormField value={profile.contacts?.vk} tag=\"input\" type=\"text\" {...fieldMask} name=\"vk\" isLabel=\"VK\" id={'vk'} />\r\n            </div>\r\n            <Button disabled={false} className={classes.popup__confirm}>Сохранить</Button>\r\n         </form>\r\n      </div>\r\n   );\r\n}\r\n\r\nexport default ProfilePopup;"],"names":["ProfilePopupContent","_ref2","_profile$contacts","_profile$contacts2","_profile$contacts3","_profile$contacts4","className","dispatch","useAppDispatch","profile","useAppSelector","state","profilePage","register","handleSubmit","reset","formState","errors","useForm","mode","fieldMask","classes","_jsxs","children","_jsx","popup__title","popup__form","onSubmit","data","userInfo","aboutMe","contacts","facebook","github","instagram","vk","youtube","mainLink","twitter","website","lookingForAJob","workFinder","lookingForAJobDescription","workFinderDescription","fullName","fullname","updateUserInfoThunk","ValidatedFormField","_objectSpread","tag","type","name","isLabel","rules","required","id","value","Checkbox","checked","label","popup__contacts","Button","disabled","popup__confirm","_ref","togglePopup","popupActiveClass","setPopupActiveClass","useState","useEffect","concat","veil","active","popup","popup__body","popup__closeBtn","onClick","popup__close","popup__content"],"sourceRoot":""}