{"version":3,"file":"static/js/513.0c9be077.chunk.js","mappings":"4HACA,QAA2B,2B,2ECA3B,QAAyB,wBAAzB,EAAgE,8BAAhE,EAA6L,gCAA7L,EAA+O,iCAA/O,EAAgS,+B,aCAhS,QAAyB,uBAAzB,EAAiE,+BAAjE,EAA+G,6BAA/G,EAAqJ,uBCuBrJ,EAbgCA,IAA2B,IAA1B,GAAEC,EAAE,KAAEC,EAAI,OAAEC,GAAQH,EAClD,OACGI,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAeC,UAC3BC,EAAAA,EAAAA,MAACC,EAAAA,GAAO,CAACJ,UAAWK,IAAA,IAAC,SAAEC,GAAUD,EAAA,OAAMC,EAAQ,GAAAC,OAAMN,EAAoB,KAAAM,OAAIN,GAAmBA,GAAuBO,GAAE,YAAAD,OAAcX,GAAKM,SAAA,EACzIH,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAuBC,UACpCH,EAAAA,EAAAA,KAAA,OAAKU,IAAKX,GAAUY,EAAQC,IAAI,QAEnCZ,EAAAA,EAAAA,KAAA,KAAAG,SAAIL,UCQhB,EAnB2Be,KACxB,MAEMC,GAFUC,EAAAA,EAAAA,GAAgBC,GAAUA,EAAMC,aAAaC,SAE5BC,IAAKC,IACnCpB,EAAAA,EAAAA,KAACqB,EAAM,CAAiBvB,KAAMsB,EAAOtB,KAAMD,GAAIuB,EAAOvB,GAAIE,OAAQqB,EAAOrB,QAA5DqB,EAAOvB,KAEvB,OACGO,EAAAA,EAAAA,MAAA,OAAKH,UAAWC,EAAeC,SAAA,EAC5BH,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAsBC,SAAC,gDACvCH,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAuBC,UACpCH,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAwBC,UACrCH,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAqBC,SAAEW,YCP/CQ,GAAeC,EAAAA,EAAAA,MAAK,IAAM,8BAyBhC,GC/ByCC,EDQdC,KAExB,MAAMC,GAAWC,EAAAA,EAAAA,KAEXC,GAASC,EAAAA,EAAAA,KAWf,OATAC,EAAAA,EAAAA,WAAU,KACPJ,GAASK,EAAAA,EAAAA,QACT,CAACL,KAEJI,EAAAA,EAAAA,WAAU,KACHF,EAAOI,QACRN,GAASO,EAAAA,EAAAA,IAAWC,OAAON,EAAOI,WAErC,CAACN,EAAUE,KAEXxB,EAAAA,EAAAA,MAAA,WAASH,UAAWC,EAAiBC,SAAA,EAClCH,EAAAA,EAAAA,KAACa,EAAO,KACRb,EAAAA,EAAAA,KAACsB,EAAY,CAACa,cAAeD,OAAON,EAAOI,eCR1CI,EAAAA,EAAAA,IAHgBpB,IAAK,CACzBqB,OAAQrB,EAAMsB,KAAKD,SAEU,CAAC,EAA1BD,CAjBkBG,IACtB,MAAMC,GAAWC,EAAAA,EAAAA,MAMjB,OALAX,EAAAA,EAAAA,WAAU,KACFS,EAAMF,QACRG,EAAS,WAEZ,CAACD,EAAMF,OAAQG,IACbD,EAAMF,QAIJrC,EAAAA,EAAAA,KAACwB,GAASkB,EAAAA,EAAAA,GAAA,GAAKH,KAHZvC,EAAAA,EAAAA,KAAC2C,EAAAA,EAAS,OATX,IAA0BnB,C","sources":["webpack://my-app/./src/components/Messages/Messages.module.scss?b126","webpack://my-app/./src/components/Messages/Persons/Persons.module.scss?0abd","webpack://my-app/./src/components/Messages/Persons/Person/Person.module.scss?057d","components/Messages/Persons/Person/Person.tsx","components/Messages/Persons/Persons.tsx","components/Messages/Messages.tsx","HOC/WithAuthRedirect.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"messages\":\"Messages_messages__a4KmD\",\"messages__wrapper\":\"Messages_messages__wrapper__0Ympf\"};","// extracted by mini-css-extract-plugin\nexport default {\"people\":\"Persons_people__AlLgc\",\"people__list\":\"Persons_people__list__ZVV1t\",\"people__item\":\"Persons_people__item__Bif96\",\"active\":\"Persons_active__IRVs9\",\"people__window\":\"Persons_people__window__QB+VS\",\"people__wrapper\":\"Persons_people__wrapper__afAEf\",\"people__title\":\"Persons_people__title__yu9zI\"};","// extracted by mini-css-extract-plugin\nexport default {\"person\":\"Person_person__SY5QS\",\"person__avatar\":\"Person_person__avatar__ShNOq\",\"person__link\":\"Person_person__link__DmPNn\",\"active\":\"Person_active__QvfOK\"};","import { NavLink } from 'react-router';\r\nimport Avatar from '../../../../img/Avatar.jpg';\r\n\r\nimport classes from './Person.module.scss';\r\n\r\ntype Props = {\r\n   id: number\r\n   name: string\r\n   avatar: string | null\r\n}\r\n\r\nconst Person: React.FC<Props> = ({ id, name, avatar }) => {\r\n   return (\r\n      <li className={classes.person}>\r\n         <NavLink className={({ isActive }) => (isActive ? `${classes.person__link} ${classes.active}` : classes.person__link)} to={`/dialogs/${id}`}>\r\n            <div className={classes.person__avatar}>\r\n               <img src={avatar || Avatar} alt=\"\" />\r\n            </div>\r\n            <p>{name}</p>\r\n         </NavLink>\r\n      </li>\r\n   );\r\n}\r\n\r\nexport default Person\r\n","import classes from './Persons.module.scss';\r\nimport Person from './Person/Person.tsx';\r\n\r\nimport { useAppSelector } from '../../../redux/typedHooks/hooks';\r\n\r\n\r\n\r\n const Persons: React.FC = () => {\r\n   const dialogs = useAppSelector((state) => state.messagesPage.dialogs);\r\n\r\n   const personComponents = dialogs.map((person) => (\r\n      <Person key={person.id} name={person.name} id={person.id} avatar={person.avatar} />\r\n   ));\r\n   return (\r\n      <div className={classes.people}>\r\n         <div className={classes.people__title}>Диалоги</div>\r\n         <div className={classes.people__window}>\r\n            <div className={classes.people__wrapper}>\r\n               <ul className={classes.people__list}>{personComponents}</ul>\r\n            </div>\r\n         </div>\r\n      </div>\r\n   );\r\n}\r\n\r\n\r\nexport default Persons","import classes from './Messages.module.scss';\r\n\r\nimport WithAuthRedirect from '../../HOC/WithAuthRedirect.jsx';\r\n\r\nimport { useAppDispatch } from '../../redux/typedHooks/hooks.ts';\r\nimport { loadDialog, getDialogs } from '../../redux/MessagesReducer.ts';\r\n\r\nimport { lazy, useEffect } from 'react';\r\nimport Persons from './Persons/Persons.tsx';\r\nimport { useParams } from 'react-router';\r\n\r\nconst DialogWindow = lazy(() => import('./DialogWindow/DialogWindow.tsx'));\r\n\r\nconst Messages: React.FC = () => {\r\n   \r\n   const dispatch = useAppDispatch();\r\n\r\n   const params = useParams();\r\n\r\n   useEffect(() => {\r\n      dispatch(getDialogs());\r\n   }, [dispatch]);\r\n\r\n   useEffect(() => {\r\n      if (params.userId) {\r\n         dispatch(loadDialog(Number(params.userId)));\r\n      }\r\n   }, [dispatch, params]);\r\n   return (\r\n      <section className={classes.messages}>\r\n         <Persons/>\r\n         <DialogWindow currentDialog={Number(params.userId)} />\r\n      </section>\r\n   );\r\n}\r\n\r\nexport default WithAuthRedirect(Messages);\r\n","import { useNavigate } from 'react-router';\r\nimport { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Preloader from '../components/Common/Preloader/Preloader';\r\n\r\nexport default function WithAuthRedirect(Component) {\r\n   let RedirectComponent = (props) => {\r\n      const navigate = useNavigate();\r\n      useEffect(() => {\r\n         if (!props.isAuth) {\r\n            navigate('/login');\r\n         }\r\n      }, [props.isAuth, navigate]);\r\n      if (!props.isAuth) {\r\n         return <Preloader />;\r\n      }\r\n\r\n      return <Component {...props} />;\r\n   };\r\n\r\n   let mapStateToProps = (state) => ({\r\n      isAuth: state.auth.isAuth,\r\n   });\r\n   return connect(mapStateToProps, {})(RedirectComponent);\r\n}\r\n"],"names":["_ref","id","name","avatar","_jsx","className","classes","children","_jsxs","NavLink","_ref2","isActive","concat","to","src","Avatar","alt","Persons","personComponents","useAppSelector","state","messagesPage","dialogs","map","person","Person","DialogWindow","lazy","Component","Messages","dispatch","useAppDispatch","params","useParams","useEffect","getDialogs","userId","loadDialog","Number","currentDialog","connect","isAuth","auth","props","navigate","useNavigate","_objectSpread","Preloader"],"sourceRoot":""}