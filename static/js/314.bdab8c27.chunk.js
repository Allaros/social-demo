"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[314],{314:(s,e,t)=>{t.r(e),t.d(e,{default:()=>B});var a=t(379),r=t(43);const l="Users_users__EY53i",n="Users_users__pagination__p0q0U",i="Users_users__title__tXMd5",o="Users_users__searchBlock__S99xI",c="Users_users__search__h6Qwz",_="Users_users__content__Bwn7a",g="Users_users__list__dLIf+",u="Users_users__top__hQ-bd",d={user:"User_user__4jIvZ",user__picture:"User_user__picture__k2KAK",user__name:"User_user__name__JTvuV",user__status:"User_user__status__riRet",user__descriptionBlock:"User_user__descriptionBlock__VT7iV",button:"User_button__ftXzi",follow:"User_follow__7xdUJ"};var h=t(94),p=t(1),x=t(579);function m(s){let{id:e,avatar:t,name:a,status:r,toggleFollow:l,followed:n,followingInLoad:i}=s;return(0,x.jsxs)("li",{className:d.user,children:[(0,x.jsx)("div",{className:d.user__visual,children:(0,x.jsx)("div",{className:d.user__picture,children:(0,x.jsx)(p.k2,{to:"/profile/".concat(e),children:(0,x.jsx)("img",{src:t,alt:"avatar"})})})}),(0,x.jsx)("div",{className:d.user__description,children:(0,x.jsxs)("div",{className:d.user__descriptionBlock,children:[(0,x.jsx)("p",{className:d.user__name,children:a}),r?(0,x.jsx)("p",{className:d.user__status,children:r}):null]})}),(0,x.jsx)(h.A,{onClick:()=>l(e,n),disabled:i.some(s=>s===e),class:"".concat(d.button," ").concat(n?d.follow:""),children:n?"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f":"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})]})}var w=t(749);const f="Pagination_pageButton__yUGvW",j="Pagination_active__Vv2CZ",v="Pagination_pagination__-gcMp",U="Pagination_pagination__pages__zXlib",P=s=>{let{updateUsersPage:e,currentPage:t,pagesCount:a,paginationLength:r=10}=s,l=[];for(let g=1;g<=a;g++)l.push(g);let n=r,i=Math.ceil(a/n),o=Math.ceil(t/n),c=(o-1)*n+1,_=o*n;return _>a&&(_=a),(0,x.jsxs)("div",{className:v,children:[t>1&&(0,x.jsx)("button",{onClick:()=>e(1),children:(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{fill:"#fff",transform:"rotate(-90deg)"},width:"24",height:"24",children:[(0,x.jsx)("path",{d:"m12 6.414 7.293 7.293 1.414-1.414L12 3.586l-8.707 8.707 1.414 1.414L12 6.414z"}),(0,x.jsx)("path",{d:"m3.293 18.293 1.414 1.414L12 12.414l7.293 7.293 1.414-1.414L12 9.586l-8.707 8.707z"})]})}),(0,x.jsxs)("div",{className:U,children:[o>1&&(0,x.jsx)("button",{onClick:()=>e(c-1),children:(0,x.jsx)("svg",{style:{fill:"#fff",transform:"rotate(180deg)"},xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:(0,x.jsx)("path",{d:"M7.293 4.707 14.586 12l-7.293 7.293 1.414 1.414L17.414 12 8.707 3.293 7.293 4.707z"})})}),l.filter(s=>s>=c&&s<=_).map(s=>(0,x.jsx)("button",{className:"".concat(f," ").concat(t===s?j:""),onClick:()=>e(s),children:s},s)),o<i&&(0,x.jsx)("button",{onClick:()=>e(_+1),children:(0,x.jsx)("svg",{style:{fill:"#fff"},xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:(0,x.jsx)("path",{d:"M7.293 4.707 14.586 12l-7.293 7.293 1.414 1.414L17.414 12 8.707 3.293 7.293 4.707z"})})})]}),t<a&&(0,x.jsx)("button",{onClick:()=>e(a),children:(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{fill:"#fff",transform:"rotate(90deg)"},width:"24",height:"24",children:[(0,x.jsx)("path",{d:"m12 6.414 7.293 7.293 1.414-1.414L12 3.586l-8.707 8.707 1.414 1.414L12 6.414z"}),(0,x.jsx)("path",{d:"m3.293 18.293 1.414 1.414L12 12.414l7.293 7.293 1.414-1.414L12 9.586l-8.707 8.707z"})]})})]})};function N(s){let e=Math.ceil(s.totalUsersCount/s.pageSize),t=s.users.map(e=>(0,x.jsx)(m,{name:e.name,id:e.id,avatar:e.photos.small||s.avatar,status:e.status,followed:e.followed,followingInLoad:s.followingInProgress,toggleFollowing:s.toggleFollowing,toggleFollow:s.followUserThunk},e.id));return(0,x.jsxs)("section",{className:l,children:[(0,x.jsx)("div",{className:u,children:(0,x.jsx)("h2",{className:i,children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})}),(0,x.jsx)("div",{className:o,children:(0,x.jsx)("input",{className:c,type:"text",name:"",id:""})}),(0,x.jsx)("div",{className:n,children:(0,x.jsx)(P,{className:n,updateUsersPage:s.updateUsersPage,currentPage:s.currentPage,pagesCount:e,paginationLength:s.pageSize})}),(0,x.jsx)("div",{className:_,children:s.isFetching?(0,x.jsx)(w.A,{color:"green"}):(0,x.jsx)("ul",{className:g,children:t})})]})}var k=t(3),z=t(247),C=t(701);const L=s=>s.usersPage.users,b=s=>s.usersPage.pageSize,y=s=>s.usersPage.totalUsersCount,F=s=>s.usersPage.currentPage,I=s=>s.usersPage.isFetching,M=s=>s.usersPage.followingInProgress;class S extends r.Component{constructor(){super(...arguments),this.updateUsersPage=s=>{this.props.getUsersPage(s,this.props.pageSize)}}componentDidMount(){this.props.getUsersPage(this.props.currentPage,this.props.pageSize)}render(){return(0,x.jsx)(N,(0,a.A)((0,a.A)({},this.props),{},{updateUsersPage:this.updateUsersPage}))}}const B=(0,k.Ng)(s=>({users:L(s),pageSize:b(s),totalUsersCount:y(s),currentPage:F(s),isFetching:I(s),followingInProgress:M(s),avatar:z}),{toggleFollow:C.So,changePage:C.yd,toggleFollowing:C.eE,getUsersPage:C.c,followUserThunk:C.j7})(S)}}]);
//# sourceMappingURL=314.bdab8c27.chunk.js.map