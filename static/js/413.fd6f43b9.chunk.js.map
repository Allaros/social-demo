{"version":3,"file":"static/js/413.fd6f43b9.chunk.js","mappings":"4HACA,QAAwB,qBAAxB,EAAiE,iCAAjE,EAAiH,4BAAjH,EAAkK,kCAAlK,EAAoN,6BAApN,EAAkQ,8BAAlQ,EAA8S,2BAA9S,EAAsV,0BCAtV,GAAgB,KAAO,mBAAmB,cAAgB,4BAA4B,WAAa,yBAAyB,aAAe,2BAA2B,uBAAyB,qCAAqC,cAAgB,4BAA4B,OAAS,qBAAqB,OAAS,sB,wDCcvT,MAwCA,EAxC8BA,IAA6C,IAA5C,GAAEC,EAAE,OAAEC,EAAM,KAAEC,EAAI,OAAEC,EAAM,SAAEC,GAAUL,EAElE,MAAMM,GAAWC,EAAAA,EAAAA,KAEXC,GAAsBC,EAAAA,EAAAA,GAAeC,GAASA,EAAMC,UAAUH,qBAMpE,OACGI,EAAAA,EAAAA,MAAA,MAAIC,UAAWC,EAAQC,KAAKC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAQI,aAAaF,UAClCC,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAQK,cAAcH,UACnCC,EAAAA,EAAAA,KAACG,EAAAA,GAAO,CAACC,GAAE,YAAAC,OAAcrB,GAAKe,UAC3BC,EAAAA,EAAAA,KAAA,OAAKM,IAAKrB,EAAQsB,IAAI,kBAI/BP,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAQW,kBAAkBT,UACvCJ,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAQY,uBAAuBV,SAAA,EAC5CC,EAAAA,EAAAA,KAAA,KAAGJ,UAAWC,EAAQa,WAAWX,SAAEb,IAChCC,GAASa,EAAAA,EAAAA,KAAA,KAAGJ,UAAWC,EAAQc,aAAaZ,SAAEZ,IAAc,WAGrEQ,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAQe,cAAcb,SAAA,EACnCC,EAAAA,EAAAA,KAACa,EAAAA,EAAM,CACPC,QAASA,IAAMzB,GAAS0B,EAAAA,EAAAA,IAAgB/B,EAAII,IAC5C4B,SAAUzB,EAAoB0B,KAAMC,GAAWA,IAAWlC,GAC1DY,UAAS,GAAAS,OAAKR,EAAQsB,OAAM,KAAAd,OAAIjB,EAAWS,EAAQuB,OAAS,IAAKrB,SAEhEX,EAAW,+DAAe,wEAE9BY,EAAAA,EAAAA,KAACa,EAAAA,EAAM,CAACC,QAASA,IA3BA9B,KACpBK,GAASgC,EAAAA,EAAAA,IAAYrC,KA0BKsC,CAActC,GAAKgC,UAAU,EAAOpB,UAAWC,EAAQsB,OAAOpB,SAAG,kE,aC/CjG,QAA6B,+BAA7B,EAAqE,2BAArE,EAA6J,+BAA7J,EAAgN,sCC4EhN,EApEoChB,IAA+B,IAA9B,YAACwC,EAAW,UAAE3B,GAAUb,EAC1D,MAAMM,GAAWC,EAAAA,EAAAA,KAGXkC,GAAWhC,EAAAA,EAAAA,GAAeC,GAASA,EAAMC,UAAU8B,UACnDC,GAAkBjC,EAAAA,EAAAA,GAAeC,GAASA,EAAMC,UAAU+B,iBAC1DC,GAAmBlC,EAAAA,EAAAA,GAAeC,GAASA,EAAMC,UAAU8B,UAEjE,IAAIG,EAAaC,KAAKC,KAAKJ,EAAkBD,GACzCM,EAAuB,GAC3B,IAAK,IAAIC,EAAI,EAAGA,GAAKJ,EAAYI,IAC9BD,EAAME,KAAKD,GAEd,IAAIE,EAAcP,EACdQ,EAAeN,KAAKC,KAAKF,EAAaM,GACtCE,EAAiBP,KAAKC,KAAKN,EAAcU,GAEzCG,GAAyBD,EAAiB,GAAKF,EAAc,EAC7DI,EAAyBF,EAAiBF,EAK9C,OAJII,EAAyBV,IAC1BU,EAAyBV,IAIzBhC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAmBE,SAAA,CAC/BwB,EAAc,IACZvB,EAAAA,EAAAA,KAAA,UAAQc,QAASA,IAAMzB,GAASiD,EAAAA,EAAAA,IAAW,IAAIvC,UAC5CJ,EAAAA,EAAAA,MAAA,OAAK4C,MAAM,6BAA6BC,MAAO,CAAEC,KAAM,OAAQC,UAAW,kBAAoBC,MAAM,KAAKC,OAAO,KAAI7C,SAAA,EACjHC,EAAAA,EAAAA,KAAA,QAAM6C,EAAE,mFACR7C,EAAAA,EAAAA,KAAA,QAAM6C,EAAE,6FAIjBlD,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAA0BE,SAAA,CACtCoC,EAAiB,IACfnC,EAAAA,EAAAA,KAAA,UAAQc,QAASA,IAAMzB,GAASiD,EAAAA,EAAAA,IAAWF,EAAwB,IAAIrC,UACpEC,EAAAA,EAAAA,KAAA,OAAKwC,MAAO,CAAEC,KAAM,OAAQC,UAAW,kBAAoBH,MAAM,6BAA6BI,MAAM,KAAKC,OAAO,KAAI7C,UACjHC,EAAAA,EAAAA,KAAA,QAAM6C,EAAE,2FAIhBf,EACGgB,OAAQC,GAAMA,GAAKX,GAAyBW,GAAKV,GACjDW,IAAKD,IACH/C,EAAAA,EAAAA,KAAA,UAAgBJ,UAAS,GAAAS,OAAKR,EAAkB,KAAAQ,OAAIkB,IAAgBwB,EAAIlD,EAAiB,IAAMiB,QAASA,IAAMzB,GAASiD,EAAAA,EAAAA,IAAWS,IAAIhD,SAClIgD,GADSA,IAIlBZ,EAAiBD,IACflC,EAAAA,EAAAA,KAAA,UAAQc,QAASA,IAAMzB,GAASiD,EAAAA,EAAAA,IAAWD,EAAyB,IAAItC,UACrEC,EAAAA,EAAAA,KAAA,OAAKwC,MAAO,CAAEC,KAAM,QAAUF,MAAM,6BAA6BI,MAAM,KAAKC,OAAO,KAAI7C,UACpFC,EAAAA,EAAAA,KAAA,QAAM6C,EAAE,8FAKnBtB,EAAcI,IACZ3B,EAAAA,EAAAA,KAAA,UAAQc,QAASA,IAAMzB,GAASiD,EAAAA,EAAAA,IAAWX,IAAa5B,UACrDJ,EAAAA,EAAAA,MAAA,OAAK4C,MAAM,6BAA6BC,MAAO,CAAEC,KAAM,OAAQC,UAAW,iBAAmBC,MAAM,KAAKC,OAAO,KAAI7C,SAAA,EAChHC,EAAAA,EAAAA,KAAA,QAAM6C,EAAE,mFACR7C,EAAAA,EAAAA,KAAA,QAAM6C,EAAE,gG,qBC5D1B,MAwCA,EAxCwBI,KACrB,MAAM5D,GAAWC,EAAAA,EAAAA,KAEX4D,GAAQ1D,EAAAA,EAAAA,GAAeC,GAASA,EAAMC,UAAUwD,OAChDC,GAAa3D,EAAAA,EAAAA,GAAeC,GAASA,EAAMC,UAAUyD,YACrD5B,GAAc/B,EAAAA,EAAAA,GAAeC,GAASA,EAAMC,UAAU6B,aACtDC,GAAWhC,EAAAA,EAAAA,GAAeC,GAASA,EAAMC,UAAU8B,WAEzD4B,EAAAA,EAAAA,WAAU,KACP/D,GAASgE,EAAAA,EAAAA,GAAa9B,EAAaC,KACnC,CAACnC,EAAUkC,EAAaC,IAE3B,IAAI8B,EAAkBJ,EAAMF,IAAKlD,IAC9BE,EAAAA,EAAAA,KAACuD,EAAI,CACFrE,KAAMY,EAAKZ,KAEXF,GAAIc,EAAKd,GACTC,OAAQa,EAAK0D,OAAOC,OAASC,EAC7BvE,OAAQW,EAAKX,OACbC,SAAUU,EAAKV,UAJVU,EAAKd,KAOhB,OACGW,EAAAA,EAAAA,MAAA,WAASC,UAAWC,EAAcE,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAmBE,UAChCC,EAAAA,EAAAA,KAAA,MAAIJ,UAAWC,EAAqBE,SAAC,gFAExCC,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAA2BE,UACxCC,EAAAA,EAAAA,KAAA,SAAOJ,UAAWC,EAAuB8D,KAAK,OAAOzE,KAAK,GAAGF,GAAG,QAEnEgB,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAA0BE,UACvCC,EAAAA,EAAAA,KAAC4D,EAAU,CAAChE,UAAWC,EAA2B0B,YAAaA,OAElEvB,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAuBE,SACnCoD,GAAanD,EAAAA,EAAAA,KAAC6D,EAAAA,EAAS,CAACC,MAAM,WAAa9D,EAAAA,EAAAA,KAAA,MAAIJ,UAAWC,EAAoBE,SAAEuD,S","sources":["webpack://my-app/./src/components/Users/Users.module.scss?b204","webpack://my-app/./src/components/Users/User/User.module.scss?c19e","components/Users/User/User.tsx","webpack://my-app/./src/components/Common/Pagination/Pagination.module.scss?d5e3","components/Common/Pagination/Pagination.tsx","components/Users/Users.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"users\":\"Users_users__EY53i\",\"users__pagination\":\"Users_users__pagination__p0q0U\",\"users__title\":\"Users_users__title__tXMd5\",\"users__searchBlock\":\"Users_users__searchBlock__S99xI\",\"users__search\":\"Users_users__search__h6Qwz\",\"users__content\":\"Users_users__content__Bwn7a\",\"users__list\":\"Users_users__list__dLIf+\",\"users__top\":\"Users_users__top__hQ-bd\",\"button\":\"Users_button__pirgN\",\"hideButton\":\"Users_hideButton__F4Z8x\",\"active\":\"Users_active__FC1Gn\"};","// extracted by mini-css-extract-plugin\nexport default {\"user\":\"User_user__4jIvZ\",\"user__picture\":\"User_user__picture__k2KAK\",\"user__name\":\"User_user__name__JTvuV\",\"user__status\":\"User_user__status__riRet\",\"user__descriptionBlock\":\"User_user__descriptionBlock__VT7iV\",\"user__buttons\":\"User_user__buttons__y5w4l\",\"button\":\"User_button__ftXzi\",\"follow\":\"User_follow__7xdUJ\"};","import classes from './User.module.scss';\r\nimport Button from '../../Common/Button/Button.tsx';\r\nimport { NavLink } from 'react-router';\r\nimport { useAppDispatch, useAppSelector } from '../../../redux/typedHooks/hooks';\r\nimport { followUserThunk } from '../../../redux/UsersReducer';\r\nimport { startDialog } from '../../../redux/MessagesReducer.ts';\r\n\r\ntype Props = {\r\n   id: number\r\n   avatar: string\r\n   name: string\r\n   status: string | undefined\r\n   followed: boolean\r\n}\r\n\r\nconst User: React.FC<Props> = ({ id, avatar, name, status, followed }) => {\r\n\r\n   const dispatch = useAppDispatch();\r\n\r\n   const followingInProgress = useAppSelector(state => state.usersPage.followingInProgress);\r\n\r\n   const startChatting = (id: number) => {\r\n      dispatch(startDialog(id))\r\n   }\r\n\r\n   return (\r\n      <li className={classes.user}>\r\n         <div className={classes.user__visual}>\r\n            <div className={classes.user__picture}>\r\n               <NavLink to={`/profile/${id}`}>\r\n                  <img src={avatar} alt=\"avatar\" />\r\n               </NavLink>\r\n            </div>\r\n         </div>\r\n         <div className={classes.user__description}>\r\n            <div className={classes.user__descriptionBlock}>\r\n               <p className={classes.user__name}>{name}</p>\r\n               {!!status ? <p className={classes.user__status}>{status}</p> : null}\r\n            </div>\r\n         </div>\r\n         <div className={classes.user__buttons}>\r\n            <Button\r\n            onClick={() => dispatch(followUserThunk(id, followed))}\r\n            disabled={followingInProgress.some((userId) => userId === id)}\r\n            className={`${classes.button} ${followed ? classes.follow : ''}`}\r\n         >\r\n            {followed ? 'Отписаться' : 'Подписаться'}\r\n         </Button>\r\n         <Button onClick={() => startChatting(id)} disabled={false} className={classes.button} >{\"Сообщение\"}</Button>\r\n         </div>\r\n\r\n      </li>\r\n   );\r\n}\r\n\r\nexport default User;","// extracted by mini-css-extract-plugin\nexport default {\"pageButton\":\"Pagination_pageButton__yUGvW\",\"active\":\"Pagination_active__Vv2CZ\",\"selectedPage\":\"Pagination_selectedPage__dCWA6\",\"pagination\":\"Pagination_pagination__-gcMp\",\"pagination__pages\":\"Pagination_pagination__pages__zXlib\"};","import { useAppDispatch, useAppSelector } from '../../../redux/typedHooks/hooks';\r\nimport { changePage } from '../../../redux/UsersReducer';\r\nimport classes from './Pagination.module.scss';\r\n\r\ntype Props = {\r\n   currentPage: number\r\n   className?: string\r\n};\r\n\r\nconst Pagination: React.FC<Props> = ({currentPage, className}) => {\r\n   const dispatch = useAppDispatch();\r\n\r\n   \r\n   const pageSize = useAppSelector(state => state.usersPage.pageSize);\r\n   const totalUsersCount = useAppSelector(state => state.usersPage.totalUsersCount);\r\n   const paginationLength = useAppSelector(state => state.usersPage.pageSize);\r\n    \r\n   let pagesCount = Math.ceil(totalUsersCount / pageSize); \r\n   let pages: Array<number> = [];\r\n   for (let i = 1; i <= pagesCount; i++) {\r\n      pages.push(i);\r\n   }\r\n   let portionSize = paginationLength;\r\n   let portionCount = Math.ceil(pagesCount / portionSize);\r\n   let currentPortion = Math.ceil(currentPage / portionSize);\r\n\r\n   let leftPortionPageNumber = (currentPortion - 1) * portionSize + 1;\r\n   let rightPortionPageNumber = currentPortion * portionSize;\r\n   if (rightPortionPageNumber > pagesCount) {\r\n      rightPortionPageNumber = pagesCount;\r\n   }\r\n\r\n   return (\r\n      <div className={classes.pagination}>\r\n         {currentPage > 1 && (\r\n            <button onClick={() => dispatch(changePage(1))}>\r\n               <svg xmlns=\"http://www.w3.org/2000/svg\" style={{ fill: '#fff', transform: 'rotate(-90deg)' }} width=\"24\" height=\"24\">\r\n                  <path d=\"m12 6.414 7.293 7.293 1.414-1.414L12 3.586l-8.707 8.707 1.414 1.414L12 6.414z\" />\r\n                  <path d=\"m3.293 18.293 1.414 1.414L12 12.414l7.293 7.293 1.414-1.414L12 9.586l-8.707 8.707z\" />\r\n               </svg>\r\n            </button>\r\n         )}\r\n         <div className={classes.pagination__pages}>\r\n            {currentPortion > 1 && (\r\n               <button onClick={() => dispatch(changePage(leftPortionPageNumber - 1))}>\r\n                  <svg style={{ fill: '#fff', transform: 'rotate(180deg)' }} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\">\r\n                     <path d=\"M7.293 4.707 14.586 12l-7.293 7.293 1.414 1.414L17.414 12 8.707 3.293 7.293 4.707z\" />\r\n                  </svg>\r\n               </button>\r\n            )}\r\n            {pages\r\n               .filter((p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n               .map((p) => (\r\n                  <button key={p} className={`${classes.pageButton} ${currentPage === p ? classes.active : ''}`} onClick={() => dispatch(changePage(p))}>\r\n                     {p}\r\n                  </button>\r\n               ))}\r\n            {currentPortion < portionCount && (\r\n               <button onClick={() => dispatch(changePage(rightPortionPageNumber + 1))}>\r\n                  <svg style={{ fill: '#fff' }} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\">\r\n                     <path d=\"M7.293 4.707 14.586 12l-7.293 7.293 1.414 1.414L17.414 12 8.707 3.293 7.293 4.707z\" />\r\n                  </svg>\r\n               </button>\r\n            )}\r\n         </div>\r\n         {currentPage < pagesCount && (\r\n            <button onClick={() => dispatch(changePage(pagesCount))}>\r\n               <svg xmlns=\"http://www.w3.org/2000/svg\" style={{ fill: '#fff', transform: 'rotate(90deg)' }} width=\"24\" height=\"24\">\r\n                  <path d=\"m12 6.414 7.293 7.293 1.414-1.414L12 3.586l-8.707 8.707 1.414 1.414L12 6.414z\" />\r\n                  <path d=\"m3.293 18.293 1.414 1.414L12 12.414l7.293 7.293 1.414-1.414L12 9.586l-8.707 8.707z\" />\r\n               </svg>\r\n            </button>\r\n         )}\r\n      </div>\r\n   );\r\n};\r\n\r\nexport default Pagination;\r\n","import classes from './Users.module.scss';\r\nimport User from './User/User.tsx';\r\nimport Preloader from '../Common/Preloader/Preloader.tsx';\r\nimport Pagination from '../Common/Pagination/Pagination';\r\nimport Avatar from '../../img/Avatar.jpg';\r\nimport { useAppSelector, useAppDispatch } from '../../redux/typedHooks/hooks';\r\nimport { useEffect } from 'react';\r\nimport { getUsersPage } from '../../redux/UsersReducer.ts';\r\n\r\nconst Users: React.FC = () => {\r\n   const dispatch = useAppDispatch();\r\n\r\n   const users = useAppSelector(state => state.usersPage.users);\r\n   const isFetching = useAppSelector(state => state.usersPage.isFetching);\r\n   const currentPage = useAppSelector(state => state.usersPage.currentPage);\r\n   const pageSize = useAppSelector(state => state.usersPage.pageSize);\r\n\r\n   useEffect(() => {\r\n      dispatch(getUsersPage(currentPage, pageSize));\r\n   }, [dispatch, currentPage, pageSize])\r\n\r\n   let usersComponents = users.map((user) => (\r\n      <User\r\n         name={user.name}\r\n         key={user.id}\r\n         id={user.id}\r\n         avatar={user.photos.small || Avatar}\r\n         status={user.status}\r\n         followed={user.followed}\r\n      />\r\n   ));\r\n   return (\r\n      <section className={classes.users}>\r\n         <div className={classes.users__top}>\r\n            <h2 className={classes.users__title}>Пользователи</h2>\r\n         </div>\r\n         <div className={classes.users__searchBlock}>\r\n            <input className={classes.users__search} type=\"text\" name=\"\" id=\"\" />\r\n         </div>\r\n         <div className={classes.users__pagination}>\r\n            <Pagination className={classes.users__pagination} currentPage={currentPage}/>\r\n         </div>\r\n         <div className={classes.users__content}>\r\n            {isFetching ? <Preloader color=\"green\" /> : <ul className={classes.users__list}>{usersComponents}</ul>}\r\n         </div>\r\n      </section>\r\n   );\r\n}\r\n\r\nexport default Users;"],"names":["_ref","id","avatar","name","status","followed","dispatch","useAppDispatch","followingInProgress","useAppSelector","state","usersPage","_jsxs","className","classes","user","children","_jsx","user__visual","user__picture","NavLink","to","concat","src","alt","user__description","user__descriptionBlock","user__name","user__status","user__buttons","Button","onClick","followUserThunk","disabled","some","userId","button","follow","startDialog","startChatting","currentPage","pageSize","totalUsersCount","paginationLength","pagesCount","Math","ceil","pages","i","push","portionSize","portionCount","currentPortion","leftPortionPageNumber","rightPortionPageNumber","changePage","xmlns","style","fill","transform","width","height","d","filter","p","map","Users","users","isFetching","useEffect","getUsersPage","usersComponents","User","photos","small","Avatar","type","Pagination","Preloader","color"],"sourceRoot":""}